<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Central Audiolivros - Seu universo de histórias para ouvir</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="index.css">
<script type="importmap">
{
  "imports": {
    "url": "https://aistudiocdn.com/url@^0.11.4",
    "path": "https://aistudiocdn.com/path@^0.12.7",
    "vite": "https://aistudiocdn.com/vite@^7.1.3"
  }
}
</script>
<link rel="stylesheet" href="/index.css">
</head>
<body class="antialiased">

    <!-- Header -->
    <header class="bg-gray-900/80 backdrop-blur-sm sticky top-0 z-40">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="text-2xl font-bold text-orange-500">
                <a href="#">Central Audiolivros</a>
            </div>
            <div class="hidden md:flex items-center space-x-6">
                <a href="#destaques" class="text-gray-300 hover:text-orange-500 transition-colors">Destaques</a>
                <a href="#categorias" class="text-gray-300 hover:text-orange-500 transition-colors">Categorias</a>
                <a href="#sobre" class="text-gray-300 hover:text-orange-500 transition-colors">Sobre</a>
            </div>
            <div class="md:hidden">
                <!-- Mobile menu button can be added here -->
            </div>
        </nav>
    </header>

    <main>
        <!-- Hero Section -->
        <section class="hero-bg py-24 md:py-32">
            <div class="container mx-auto px-6 text-center">
                <h1 class="text-4xl md:text-6xl font-bold text-white mb-4 leading-tight">Seu universo de histórias para ouvir</h1>
                <p class="text-lg md:text-xl text-gray-300 max-w-3xl mx-auto mb-8">Encontre informações completas sobre seus audiolivros favoritos. Sinopse, narradores, estúdios e onde ouvir. Tudo em um só lugar.</p>
                <div class="max-w-2xl mx-auto">
                    <div class="relative">
                        <label for="search-bar" class="sr-only">Busque por título, autor ou narrador</label>
                        <input type="search" id="search-bar" placeholder="Busque por título, autor ou narrador..." class="w-full py-4 px-6 rounded-full bg-gray-800 border border-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all">
                        <svg class="w-6 h-6 text-gray-400 absolute right-6 top-1/2 -translate-y-1/2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                    </div>
                </div>
            </div>
        </section>

        <!-- Categorias Section -->
        <section id="categorias" class="py-20">
            <div class="container mx-auto px-6">
                 <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold">Explore por Categoria</h2>
                    <button id="clear-filter-btn" class="hidden mt-4 text-orange-500 hover:text-orange-400 transition-colors">Limpar filtro</button>
                </div>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                    <div class="category-card bg-gray-800 rounded-lg p-6 text-center hover:bg-orange-500/20 cursor-pointer transition-all" data-category="Ficção Científica" role="button" tabindex="0">
                        <h3 class="font-bold text-xl">Ficção Científica</h3>
                    </div>
                    <div class="category-card bg-gray-800 rounded-lg p-6 text-center hover:bg-orange-500/20 cursor-pointer transition-all" data-category="Fantasia" role="button" tabindex="0">
                        <h3 class="font-bold text-xl">Fantasia</h3>
                    </div>
                    <div class="category-card bg-gray-800 rounded-lg p-6 text-center hover:bg-orange-500/20 cursor-pointer transition-all" data-category="Aventura" role="button" tabindex="0">
                        <h3 class="font-bold text-xl">Aventura</h3>
                    </div>
                    <div class="category-card bg-gray-800 rounded-lg p-6 text-center hover:bg-orange-500/20 cursor-pointer transition-all" data-category="Suspense" role="button" tabindex="0">
                        <h3 class="font-bold text-xl">Suspense</h3>
                    </div>
                </div>
            </div>
        </section>

        <!-- Destaques Section -->
        <section id="destaques" class="py-20 bg-gray-800/50">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl font-bold text-center mb-12">Audiolivros em Destaque</h2>
                <div id="audiobook-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6 md:gap-8">
                    <!-- Cards de audiolivros serão inseridos aqui pelo JavaScript -->
                </div>
                 <p id="no-results" class="text-center text-gray-400 text-lg hidden">Nenhum audiolivro encontrado com os termos da sua busca.</p>
            </div>
        </section>

        <!-- Sobre Section -->
        <section id="sobre" class="py-20">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl font-bold mb-4">O que é a Central Audiolivros?</h2>
                <p class="text-lg text-gray-300 max-w-3xl mx-auto">
                    A Central Audiolivros nasceu da paixão por histórias e da necessidade de um espaço dedicado a elas. Nossa missão é ser a principal fonte de informações para ouvintes, centralizando detalhes que vão além da capa: quem narra, qual o estúdio, se há efeitos sonoros e, claro, onde você pode mergulhar em cada narrativa.
                </p>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 border-t border-gray-800 py-8">
        <div class="container mx-auto px-6 text-center text-gray-400">
            <p>2025 Central Audiolivros.</p>
            <p class="text-sm mt-2">Um projeto para amantes de histórias.</p>
        </div>
    </footer>

    <!-- Modal -->
    <div id="modal" class="fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4 hidden modal-backdrop" role="dialog" aria-modal="true" aria-labelledby="modal-title">
        <div id="modal-content" class="bg-gray-800 rounded-lg shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col md:flex-row overflow-hidden transform scale-95">
            <!-- Conteúdo do modal será inserido aqui pelo JavaScript -->
        </div>
    </div>

    <script type="module">
        /**
         * @license
         * SPDX-License-Identifier: Apache-2.0
        */

        // --- BANCO DE DADOS DE EXEMPLO ---
        const audiobooks = [
            {
                id: 1,
                title: "Crônicas de Nébula",
                author: "Elara Vance",
                narrator: "Orion Ramos",
                cover: "https://placehold.co/400x600/1E293B/FFFFFF?text=Crônicas+de+Nébula",
                epilogue: "Em um futuro onde a humanidade colonizou as estrelas, a jovem piloto Kaelen descobre um segredo ancestral que pode destruir o frágil equilíbrio do universo. Uma jornada intergaláctica sobre poder, traição e esperança.",
                publisher: "Edições Cosmos",
                studio: "Voz Estelar",
                features: ["Trilha Sonora Orquestrada", "Efeitos Sonoros de Batalhas Espaciais"],
                platforms: [
                    { name: "Audible", url: "#" },
                    { name: "Storytel", url: "#" },
                ],
                category: "Ficção Científica",
            },
            {
                id: 2,
                title: "O Último Guardião de Aethel",
                author: "Kaelan Blackwood",
                narrator: "Lira Silvestre",
                cover: "https://placehold.co/400x600/1E293B/FFFFFF?text=O+Último+Guardião",
                epilogue: "No reino mágico de Aethel, a antiga ordem dos guardiões foi dizimada. Apenas a jovem Elara, com seus poderes recém-descobertos, pode enfrentar as sombras que ameaçam consumir o mundo. Uma aventura fantástica cheia de magia e criaturas míticas.",
                publisher: "Editora Grifo Dourado",
                studio: "Estúdio Épico",
                features: ["Vozes de Criaturas Modificadas", "Ambientação Sonora de Florestas Mágicas"],
                platforms: [
                    { name: "Google Play Livros", url: "#" },
                    { name: "Audible", url: "#" },
                ],
                category: "Fantasia",
            },
            {
                id: 3,
                title: "A Sombra em Espiral",
                author: "Julien Moreau",
                narrator: "Helena Vargas",
                cover: "https://placehold.co/400x600/1E293B/FFFFFF?text=A+Sombra+em+Espiral",
                epilogue: "O detetive Alex Moreau é assombrado por um caso não resolvido que destruiu sua carreira. Quando um novo crime com a mesma assinatura macabra acontece, ele precisa mergulhar novamente em um labirinto de segredos e mentiras para encontrar o assassino.",
                publisher: "L&PM Editores",
                studio: "Som Sombrio",
                features: [],
                platforms: [
                    { name: "Storytel", url: "#" },
                    { name: "Ubook", url: "#" },
                ],
                category: "Suspense",
            },
            {
                id: 4,
                title: "Os Ecos de Zerzura",
                author: "Anya Sharma",
                narrator: "Dante Valério",
                cover: "https://placehold.co/400x600/1E293B/FFFFFF?text=Ecos+de+Zerzura",
                epilogue: "A arqueóloga Dr. Alani Sharma descobre um mapa que pode levar à cidade perdida de Zerzura. O que começa como uma expedição científica se torna uma corrida perigosa contra uma organização secreta que deseja o poder da cidade para si.",
                publisher: "Editora Aventura",
                studio: "Trilhas do Deserto",
                features: ["Efeitos de Eco Realistas", "Sons da Natureza"],
                platforms: [
                    { name: "Audible", url: "#" },
                ],
                category: "Aventura",
            },
            {
                id: 5,
                title: "Cidade de Silício",
                author: "Ren Fukuda",
                narrator: "Maya Alencar",
                cover: "https://placehold.co/400x600/1E293B/FFFFFF?text=Cidade+de+Silício",
                epilogue: "Na megalópole de Neo-Kyoto, controlada por uma inteligência artificial onipotente, uma jovem hacker descobre uma falha no sistema que pode libertar a humanidade ou condená-la ao caos. Uma distopia cyberpunk sobre liberdade e tecnologia.",
                publisher: "Editora Futura",
                studio: "Voz Digital",
                features: ["Vozes Sintetizadas para IA", "Paisagens Sonoras Cyberpunk"],
                platforms: [
                    { name: "Storytel", url: "#" },
                    { name: "Skeelo", url: "#" },
                ],
                category: "Ficção Científica",
            }
        ];

        // --- STATE MANAGEMENT ---
        let currentCategoryFilter = null;
        let lastFocusedElement = null;

        // --- DOM ELEMENT SELECTORS ---
        const audiobookGrid = document.getElementById('audiobook-grid');
        const searchBar = document.getElementById('search-bar');
        const noResultsMessage = document.getElementById('no-results');
        const modal = document.getElementById('modal');
        const modalContent = document.getElementById('modal-content');
        const categoryCards = document.querySelectorAll('.category-card');
        const clearFilterBtn = document.getElementById('clear-filter-btn');


        // --- FUNÇÃO PARA RENDERIZAR ESQUELETO DE CARDS ---
        const renderSkeletons = () => {
            audiobookGrid.innerHTML = '';
            for (let i = 0; i < 10; i++) {
                const skeleton = document.createElement('div');
                skeleton.className = 'w-full';
                skeleton.innerHTML = `
                    <div class="rounded-lg overflow-hidden skeleton w-full h-auto aspect-[2/3] mb-3"></div>
                    <div class="h-5 w-3/4 rounded skeleton mb-2"></div>
                    <div class="h-4 w-1/2 rounded skeleton"></div>
                `;
                audiobookGrid.appendChild(skeleton);
            }
        }

        // --- FUNÇÃO PARA RENDERIZAR OS CARDS ---
        const renderAudiobooks = (items) => {
            audiobookGrid.innerHTML = '';
            if (items.length === 0) {
                noResultsMessage.classList.remove('hidden');
            } else {
                noResultsMessage.classList.add('hidden');
                items.forEach(book => {
                    const card = document.createElement('div');
                    card.className = 'cursor-pointer group card-hover-effect';
                    card.setAttribute('role', 'button');
                    card.setAttribute('tabindex', '0');
                    card.setAttribute('aria-label', `Ver detalhes de ${book.title}`);
                    card.innerHTML = `
                        <div class="rounded-lg overflow-hidden shadow-lg bg-gray-800">
                            <img src="${book.cover}" alt="Capa de ${book.title}" class="w-full h-auto aspect-[2/3] object-cover" onerror="this.onerror=null;this.src='https://placehold.co/400x600/111827/FFFFFF?text=Imagem+N%C3%A3o+Dispon%C3%ADvel';">
                        </div>
                        <div class="pt-3">
                            <h3 class="font-bold text-md text-gray-100 truncate group-hover:text-orange-500 transition-colors">${book.title}</h3>
                            <p class="text-sm text-gray-400">${book.narrator}</p>
                        </div>
                    `;
                    const openDetails = () => {
                        lastFocusedElement = document.activeElement;
                        openModal(book);
                    };
                    card.addEventListener('click', openDetails);
                    card.addEventListener('keydown', (e) => {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            openDetails();
                        }
                    });
                    audiobookGrid.appendChild(card);
                });
            }
        };

        // --- MODAL ACCESSIBILITY ---
        const trapFocus = (e) => {
            const focusableElements = modal.querySelectorAll('button, a[href]');
            const firstFocusableElement = focusableElements[0];
            const lastFocusableElement = focusableElements[focusableElements.length - 1];
            
            if (e.key !== 'Tab') return;

            if (e.shiftKey) { /* shift + tab */
                if (document.activeElement === firstFocusableElement) {
                    lastFocusableElement.focus();
                    e.preventDefault();
                }
            } else { /* tab */
                if (document.activeElement === lastFocusableElement) {
                    firstFocusableElement.focus();
                    e.preventDefault();
                }
            }
        };

        // --- FUNÇÃO PARA ABRIR O MODAL ---
        const openModal = (book) => {
            modal.setAttribute('aria-labelledby', `modal-title-${book.id}`);
            modalContent.innerHTML = `
                <div class="w-full md:w-1/3 flex-shrink-0">
                    <img src="${book.cover}" alt="Capa de ${book.title}" class="w-full h-full object-cover" onerror="this.onerror=null;this.src='https://placehold.co/400x600/111827/FFFFFF?text=Imagem+N%C3%A3o+Dispon%C3%ADvel';">
                </div>
                <div class="w-full md:w-2/3 p-6 md:p-8 overflow-y-auto">
                    <div class="flex justify-between items-start">
                        <h2 id="modal-title-${book.id}" class="text-3xl font-bold text-orange-500 mb-2">${book.title}</h2>
                        <button id="close-modal" aria-label="Fechar modal" class="text-gray-400 hover:text-white transition-colors text-3xl leading-none">&times;</button>
                    </div>
                    <p class="text-lg text-gray-300 mb-4">por ${book.author}</p>
                    
                    <h4 class="font-bold text-lg mt-6 mb-2 text-gray-100">Sinopse</h4>
                    <p class="text-gray-400 text-base leading-relaxed">${book.epilogue}</p>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
                        <div>
                            <h4 class="font-bold text-lg mb-2 text-gray-100">Ficha Técnica</h4>
                            <ul class="space-y-1 text-gray-400">
                                <li><strong>Narração:</strong> ${book.narrator}</li>
                                <li><strong>Publicadora:</strong> ${book.publisher}</li>
                                <li><strong>Estúdio:</strong> ${book.studio}</li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="font-bold text-lg mb-2 text-gray-100">Recursos</h4>
                            ${book.features.length > 0 ? 
                                `<ul class="list-disc list-inside text-gray-400">${book.features.map(f => `<li>${f}</li>`).join('')}</ul>` : 
                                '<p class="text-gray-400">Nenhum recurso especial informado.</p>'
                            }
                        </div>
                    </div>

                    <h4 class="font-bold text-lg mt-6 mb-3 text-gray-100">Onde Ouvir</h4>
                    <div class="flex flex-wrap gap-3">
                        ${book.platforms.map(p => `<a href="${p.url}" target="_blank" class="bg-orange-600 text-white font-semibold py-2 px-4 rounded-full hover:bg-orange-700 transition-colors">${p.name}</a>`).join('')}
                    </div>
                </div>
            `;
            
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            
            const closeModalBtn = document.getElementById('close-modal');
            closeModalBtn.addEventListener('click', closeModal);
            closeModalBtn.focus();
            
            modal.addEventListener('keydown', trapFocus);
            
            setTimeout(() => {
                modal.classList.add('opacity-100');
                modalContent.classList.remove('scale-95');
                modalContent.classList.add('scale-100');
            }, 10);
        };

        // --- FUNÇÃO PARA FECHAR O MODAL ---
        const closeModal = () => {
            modal.classList.remove('opacity-100');
            modalContent.classList.remove('scale-100');
            modalContent.classList.add('scale-95');
            modal.removeEventListener('keydown', trapFocus);

            setTimeout(() => {
                modal.classList.add('hidden');
                document.body.style.overflow = 'auto';
                if (lastFocusedElement) {
                    lastFocusedElement.focus();
                }
            }, 300);
        };

        // --- LÓGICA DE FILTRAGEM E RENDERIZAÇÃO ---
        const filterAndRender = () => {
            renderSkeletons();

            setTimeout(() => {
                const searchTerm = searchBar.value.toLowerCase();
                let filteredAudiobooks = audiobooks;

                // Filtro de Categoria
                if (currentCategoryFilter) {
                    filteredAudiobooks = filteredAudiobooks.filter(book => book.category === currentCategoryFilter);
                }

                // Filtro de Busca
                if (searchTerm) {
                    filteredAudiobooks = filteredAudiobooks.filter(book => 
                        book.title.toLowerCase().includes(searchTerm) ||
                        book.author.toLowerCase().includes(searchTerm) ||
                        book.narrator.toLowerCase().includes(searchTerm)
                    );
                }
                
                renderAudiobooks(filteredAudiobooks);
            }, 300); // Simula uma pequena latência de API para UX
        };

        // --- EVENT LISTENERS ---
        searchBar.addEventListener('input', filterAndRender);

        // Listeners das Categorias
        categoryCards.forEach(card => {
            const category = card.getAttribute('data-category');
            if (!category) return;

            const handleSelectCategory = () => {
                currentCategoryFilter = category;
                categoryCards.forEach(c => c.classList.remove('active'));
                card.classList.add('active');
                clearFilterBtn.classList.remove('hidden');
                filterAndRender();
            };

            card.addEventListener('click', handleSelectCategory);
            card.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    handleSelectCategory();
                }
            });
        });

        // Listener do botão de limpar filtro
        clearFilterBtn.addEventListener('click', () => {
            currentCategoryFilter = null;
            categoryCards.forEach(c => c.classList.remove('active'));
            clearFilterBtn.classList.add('hidden');
            filterAndRender();
        });

        // Listeners do Modal
        modal.addEventListener('click', (e) => {
            if (e.target === modal) closeModal();
        });
        document.addEventListener('keydown', (e) => {
            if (e.key === "Escape" && !modal.classList.contains('hidden')) closeModal();
        });

        // --- RENDERIZAÇÃO INICIAL ---
        filterAndRender();
    </script>
<script type="module" src="/index.tsx"></script>
</body>
</html>